<style type="text/css" media="screen"> 
	#repo ul.menu li.current-branch {
		background: ghostwhite url({{ url_for('static', filename="images/bg_browse.png") }})  repeat-x 0px 100%;
	}
	
	#repo ul.submenu {
		background: ghostwhite url({{ url_for('static', filename="images/bg_browse.png") }}) repeat-x 0px 100%;
	}
</style>

<script type="text/javascript">
	window.onload = function() {
		$('#switch-branches').mouseenter(function(event) {
			$('#tags').hide();
			$('#branches').show();
			$('#switch-branches').addClass('hovering');
		});

		$('#switch-branches').mouseleave(function(event) {
			$('#branches').hide();
			$('#switch-branches').removeClass('hovering');
		});

		$('#branches').mouseenter(function(event) {
			$('#branches').show();
			$('#switch-branches').addClass('hovering');
		});

		$('#branches').mouseleave(function(event) {
			$('#branches').hide();
			$('#switch-branches').removeClass('hovering');
		});

		$('#switch-tags').mouseenter(function(event) {
			$('#tags').show();
			$('#branches').hide();
			$('#switch-tags').addClass('hovering');
		});

		$('#switch-tags').mouseleave(function(event) {
			$('#tags').hide();
			$('#switch-tags').removeClass('hovering');
		});

		$('#tags').mouseenter(function(event) {
			$('#tags').show();
			$('#switch-tags').addClass('hovering');
		});

		$('#tags').mouseleave(function(event) {
			$('#tags').hide();
			$('#switch-tags').removeClass('hovering');
		});

		$('#network').hide();
	}

	show_source = function() {
		$('#source').show();
		$('#network').hide();
	}

	show_network = function() {
		$('#source').hide();
		$('#network').show();
	}
</script>

<div id="repo">

	<ul class="menu">
			<li class="button"><a href="#" onclick="javascript: show_source();">Source</a></li>
			<li class="button"><a href="#" onclick="javascript: show_network();">Network</a></li>
			<li class="current-branch">
				<span><b>
				{% if commit is git_branch %}
				Branch:
				{% elif (commit, treeid) is git_tag %}
				Tag:
				{% else %}
				Tree:
				{% endif %}
				</b>
				<code>{{ treeid|truncate(8, true, '') }}</code>
				</span>
			</li>
	</ul>

	<ul class="submenu" id="source">
		<li id="switch-branches"><a href="#">Switch Branches ({{ commit.repo.branches|length }})</a></li>
		<ul class="switches" id="branches">
			{% for branch in commit.repo.branches %}
			<li><a href="{{ url_for('browse', repository=repo, tree=branch.name) }}">{{ branch.name }}</a></li>
			{% else %}
			<li><span>no branches</span></li>
			{% endfor %}
		</ul>
		<li id="switch-tags"><a href="#">Switch Tags ({{ commit.repo.tags|length }})</a></li>
		<ul class="switches" id="tags" style="margin-left: 115px;">
			{% for tag in commit.repo.tags %}
			<li><a href="{{ url_for('browse', repository=repo, tree=tag.name) }}">{{ tag.name }}</a></li>
			{% else %}
			<li><span>no tags</span></li>
			{% endfor %}
		</ul>
	</ul>

	<ul class="submenu" id="network">
		<li><a href="#">Graph</a></li>
	</ul>

	<div class="summary">
		{{ commit.repo.description }}
	</div>

</div>
